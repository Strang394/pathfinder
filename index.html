<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scheda Personaggio - Pathfinder 3.5</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-app.js";
    import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAyZyPEqxjq0cn8RawCVndeFVnjgv3Bs4Y",
      authDomain: "pathfinder2025-ffb2a.firebaseapp.com",
      projectId: "pathfinder2025-ffb2a",
      storageBucket: "pathfinder2025-ffb2a.firebasestorage.app",
      messagingSenderId: "646471152242",
      appId: "1:646471152242:web:531b4f5ccb6351aab748eb"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    window.db = db;
  </script>
</head>
<body>
  <nav class="tab-nav">
    <button data-tab="sezione1" class="active">Profilo</button>
    <button data-tab="sezione2">Abilità</button>
    <button data-tab="sezione3">Equip</button>
    <button data-tab="sezione4">Note</button>
  </nav>

  <main>

<div class="tab-content" id="sezione1">

  <!-- SEZIONE: PROFILO -->
<h2><i class="fas fa-user"></i> Profilo</h2>
<div class="blocco"> 
  <div class="form-grid">
    <div><label>Nome: <input type="text" id="nome" class="auto-resize" /></label></div>
    <div><label>Razza: <input type="text" id="razza" class="auto-resize"/></label></div>
    <div><label>Classe e Livello: <input type="text" id="classeLivello" class="auto-resize" /></label></div>
    <div><label>Allineamento:
      <select id="allineamento" class="select-small">
        <option value="">— Seleziona —</option>
        <option value="LB">LB</option>
        <option value="NB">NB</option>
        <option value="CB">CB</option>
        <option value="LN">LN</option>
        <option value="NN">NN</option>
        <option value="CN">CN</option>
        <option value="LM">LM</option>
        <option value="NM">NM</option>
        <option value="CM">CM</option>
      </select>
    </label></div>
  </div>

  <div class="form-grid">
    <div><label>Divinità: <input type="text" id="divinita" class="auto-resize" /></label></div>
    <div><label>Origini: <input type="text" id="origini" class="auto-resize" /></label></div>
    <div><label>Sesso:
      <select id="sesso" class="select-small">
        <option value="">—</option>
        <option value="M">M</option>
        <option value="F">F</option>
        <option value="Altro">NA</option>
      </select>
    </label></div>
    <div><label>Età: <input type="text" id="eta" class="auto-resize input-small"/></label></div>
  </div>

  <div class="form-grid">
    <div><label>Altezza: <input type="text" id="altezza" class="auto-resize input-small" /></label></div>
    <div><label>Peso: <input type="text" id="peso" class="auto-resize input-small"/></label></div>
    <div><label>Capelli: <input type="text" id="capelli" class="auto-resize"/></label></div>
    <div><label>Occhi: <input type="text" id="occhi" class="auto-resize"/></label></div> 
      <div><label>Taglia:
        <select id="taglia" class="select-small" onchange="aggiornaTaglia()">
          <option value="-2">-2</option>
          <option value="-1">-1</option>
          <option value="0">0</option>
          <option value="1">+1</option>
          <option value="2">+2</option>
          <option value="4">+4</option>
        </select>
      </label>
    </div>
  </div>
  
  <div class="header">
    <strong>Velocità Base:</strong> <span id="vel_terreno_preview">—</span>
    <button onclick="toggleDettagli(this)">+ Dettagli</button>
  </div>
  <div class="dettagli" style="display: none;">
    <label>Velocità Base: <input type="text" id="vel_terreno" class="auto-resize" /></label>
    <label>Velocità con Armatura: <input type="text" id="vel_armatura" class="auto-resize" /></label>
    <label>Volare: <input type="text" id="vel_volare" class="auto-resize" /></label>
    <label>Nuotare: <input type="text" id="vel_nuotare" class="auto-resize" /></label>
    <label>Scalare: <input type="text" id="vel_scalare" class="auto-resize" /></label>
    <label>Scavare: <input type="text" id="vel_scavare" class="auto-resize" /></label>
  </div>
 </div>
</div>




  <!-- SEZIONE: CARATTERISTICHE -->
  <h2><i class="fas fa-chart-bar"></i> Caratteristiche</h2>
  <div style="overflow-x:auto">
    <table class="caratteristiche-tabella">
      <thead>
        <tr>
          <th>Caratteristica</th>
          <th>Punteggio</th>
          <th>Mod.</th>
          <th>Aggiust. Temp.</th>
          <th>Mod. Temp.</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>FOR</td><td><input id="for" class="select-small"/></td><td><input id="for_mod" readonly class="select-small"/></td><td><input id="for_adj" class="select-small"/></td><td><input id="for_temp" class="select-small"/></td></tr>
        <tr><td>DES</td><td><input id="des" class="select-small"/></td><td><input id="des_mod" readonly class="select-small"/></td><td><input id="des_adj" class="select-small"/></td><td><input id="des_temp" class="select-small"/></td></tr>
        <tr><td>COS</td><td><input id="cos" class="select-small"/></td><td><input id="cos_mod" readonly class="select-small"/></td><td><input id="cos_adj" class="select-small"/></td><td><input id="cos_temp" class="select-small"/></td></tr>
        <tr><td>INT</td><td><input id="int" class="select-small"/></td><td><input id="int_mod" readonly class="select-small"/></td><td><input id="int_adj" class="select-small"/></td><td><input id="int_temp" class="select-small"/></td></tr>
        <tr><td>SAG</td><td><input id="sag" class="select-small"/></td><td><input id="sag_mod" readonly class="select-small"/></td><td><input id="sag_adj" class="select-small"/></td><td><input id="sag_temp" class="select-small"/></td></tr>
        <tr><td>CAR</td><td><input id="car" class="select-small"/></td><td><input id="car_mod" readonly class="select-small"/></td><td><input id="car_adj" class="select-small"/></td><td><input id="car_temp" class="select-small"/></td></tr>
      </tbody>
    </table>
  </div>

  <!-- SEZIONE: COMBATTIMENTO -->
<h2><i class="fas fa-hand-fist"></i> Combattimento </h2>

<!-- Punti Ferita -->
<div class="blocco">
  <div class="header">
  <strong>PF Attuali:</strong> <span id="pf_totali_preview">—</span> <button onclick="toggleDettagli(this)">+ Mostra</button>
  </div>
  <div class="dettagli" style="display: none;">
    <label>PF Attuali: <input type="number" id="pf_totali" class="auto-resize"/></label>
    <label>PF Massimi: <textarea id="pf_attuali" rows="2" class="auto-resize"></textarea></label>
    <label>RD (Riduzione del Danno): <input type="text" id="pf_rd" class="auto-resize"/></label>
    <label>Danno Non Letale: <input type="text" id="pf_nonletale" class="auto-resize"/></label>
  </div>
</div>



<!-- Iniziativa -->
<div class="blocco">
  <div class="header">
    <strong>Iniziativa:</strong> Totale: <span id="init_tot_preview">—</span>
    <button onclick="toggleDettagli(this)">+ Mostra</button>
  </div>
  <div class="dettagli" style="display: none;">
    <h4>Iniziativa</h4>
    <label>Totale: <input type="number" id="init_tot" readonly class="auto-resize"/></label>
    <label>Mod. DES: <input type="number" id="init_des" readonly class="auto-resize"/></label>
    <label>Mod. Vari: <input type="number" id="init_vari" class="auto-resize"/></label>
  </div>
</div>

<!-- Classe Armatura -->
<div class="blocco">
  <div class="header">
    <strong>Classe Armatura:</strong>
    Totale: <span id="ca_tot_preview">—</span>,
    Contatto: <span id="ca_contatto_preview">—</span>,
    Impreparato: <span id="ca_impreparato_preview">—</span>
    <button onclick="toggleDettagli(this)">+ Mostra</button>
  </div>
  <div class="dettagli" style="display: none;">
    <h4>Classe Armatura</h4>
    <label>CA Totale: <input type="number" id="ca_tot" class="auto-resize"/></label>
    <label>Bonus Armatura: <input type="number" id="ca_armatura" class="auto-resize"/></label>
    <label>Bonus Scudo: <input type="number" id="ca_scudo" class="auto-resize"/></label>
    <label>Mod. DES: <input type="number" id="ca_des" class="auto-resize"/></label>
    <label>Mod. Taglia: <input type="number" id="ca_taglia" readonly class="auto-resize"/></label>
    <label>Armatura Naturale: <input type="number" id="ca_nat" class="auto-resize"/></label>
    <label>Mod. Deviazione: <input type="number" id="ca_dev" class="auto-resize"/></label>
    <label>Mod. Vari: <input type="number" id="ca_vari" class="auto-resize"/></label>
    <label>CA Contatto: <input type="number" id="ca_contatto" class="auto-resize"/></label>
    <label>CA Impreparato: <input type="number" id="ca_impreparato" class="auto-resize"/></label>
  </div>
</div>


<!-- BMC -->
<div class="blocco">
  <div class="header">
    <strong>BMC:</strong> Totale: <span id="bmc_tot_preview">—</span>
    <button onclick="toggleDettagli(this)">+ Mostra</button>
  </div>
  <div class="dettagli" style="display: none;">
    <h4>BMC</h4>
    <label>Totale: <input type="number" id="bmc_tot" readonly class="auto-resize"/></label>
    <label>BAB: <input type="number" id="bmc_bab" readonly class="auto-resize"/></label>
    <label>Mod. FOR: <input type="number" id="bmc_for" readonly class="auto-resize"/></label>
    <label>Mod. Taglia: <input type="number" id="bmc_taglia" readonly class="auto-resize"/></label>
  </div>
</div>

<!-- DMC -->
<div class="blocco">
  <div class="header">
    <strong>DMC:</strong> Totale: <span id="dmc_tot_preview">—</span>
    <button onclick="toggleDettagli(this)">+ Mostra</button>
  </div>
  <div class="dettagli" style="display: none;">
    <h4>DMC</h4>
    <label>Totale: <input type="number" id="dmc_tot" readonly class="auto-resize"/></label>
    <label>BAB: <input type="number" id="dmc_bab" readonly class="auto-resize"/></label>
    <label>Mod. FOR: <input type="number" id="dmc_for" readonly class="auto-resize"/></label>
    <label>Mod. DES: <input type="number" id="dmc_des" readonly class="auto-resize"/></label>
    <label>Mod. Taglia: <input type="number" id="dmc_taglia" readonly class="auto-resize"/></label>
  </div>
</div>

<!-- Tiri Salvezza -->
<div class="blocco">
  <div class="header">
    <strong>Tiri Salvezza:</strong>
    Tempra: <span id="ts_tempra_tot_preview">—</span>,
    Riflessi: <span id="ts_riflessi_tot_preview">—</span>,
    Volontà: <span id="ts_volonta_tot_preview">—</span>
    <button onclick="toggleDettagli(this)">+ Mostra</button>
  </div>
  <div class="dettagli" style="display: none;">
    <h4>Tempra (COS)</h4>
    <label>Totale: <input type="number" id="ts_tempra_tot" readonly class="auto-resize"/></label>
    <label>TS Base: <input type="number" id="ts_tempra_base" class="auto-resize"/></label>
    <label>Mod. Caratt.: <input type="number" id="ts_tempra_caratt" readonly class="auto-resize"/></label>
    <label>Mod. Magico: <input type="number" id="ts_tempra_mag" class="auto-resize"/></label>
    <label>Mod. Vari: <input type="number" id="ts_tempra_vari" class="auto-resize"/></label>
    <label>Mod. Temp.: <input type="number" id="ts_tempra_temp" class="auto-resize"/></label>

    <h4>Riflessi (DES)</h4>
    <label>Totale: <input type="number" id="ts_riflessi_tot" readonly class="auto-resize"/></label>
    <label>TS Base: <input type="number" id="ts_riflessi_base" class="auto-resize"/></label>
    <label>Mod. Caratt.: <input type="number" id="ts_riflessi_caratt" readonly class="auto-resize"/></label>
    <label>Mod. Magico: <input type="number" id="ts_riflessi_mag" class="auto-resize"/></label>
    <label>Mod. Vari: <input type="number" id="ts_riflessi_vari" class="auto-resize"/></label>
    <label>Mod. Temp.: <input type="number" id="ts_riflessi_temp" class="auto-resize"/></label>

    <h4>Volontà (SAG)</h4>
    <label>Totale: <input type="number" id="ts_volonta_tot" readonly class="auto-resize"/></label>
    <label>TS Base: <input type="number" id="ts_volonta_base" class="auto-resize"/></label>
    <label>Mod. Caratt.: <input type="number" id="ts_volonta_caratt" readonly class="auto-resize"/></label>
    <label>Mod. Magico: <input type="number" id="ts_volonta_mag" class="auto-resize"/></label>
    <label>Mod. Vari: <input type="number" id="ts_volonta_vari" class="auto-resize"/></label>
    <label>Mod. Temp.: <input type="number" id="ts_volonta_temp" class="auto-resize"/></label>
  </div>
</div>
  
<!--BAB-->
<div class="blocco">
  <div class="form-grid">
    <div>
      <label>Bonus Attacco Base (BAB): <input type="number" id="bab" class="auto-resize input-small"/></label>
    </div>
    <div>
      <label>Resistenza agli Incantesimi: <input type="number" id="res_inc" class="auto-resize input-small"/></label>
    </div>
  </div>
</div>

  
  
  <div class="tab-content hidden" id="sezione2">
      <h2>Abilità</h2>
      <textarea id="abilita" rows="8" placeholder="Inserisci abilità e modificatori..."></textarea>
      <h3>Talenti e Capacità</h3>
      <textarea id="talenti" rows="5" placeholder="Talenti..."></textarea>
      <textarea id="capacita" rows="5" placeholder="Capacità Speciali..."></textarea>
    </div>

    <div class="tab-content hidden" id="sezione3">
      <h2>Equipaggiamento</h2>
      <textarea id="equip" rows="5" placeholder="Inserisci equipaggiamento..."></textarea>
      <h3>Denaro</h3>
      <textarea id="denaro" rows="2" placeholder="MR, MA, MO, MP..."></textarea>
    </div>

    <div class="tab-content hidden" id="sezione4">
      <h2>Background & Note</h2>
      <textarea id="note" rows="10" placeholder="Scrivi qui il background, PNG, eventi..."></textarea>
    </div>
  </main>

  <script type="module" src="script.js"></script>
</body>
</html>
